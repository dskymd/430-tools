<script setup lang="ts">
import { computed, ref } from 'vue'

// defineProps<{ msg: string }>()
const emit = defineEmits(['update:code'])

type Item = {
  id: string
  files: string[]
}
const year = new Date().getFullYear().toString()
const yy = year.substring(2, 4)
const mm = (new Date().getMonth() + 1).toString().padStart(2, '0')

const inputSeasonCode = ref(`FTY-${yy}-`)
const inputFilePath = ref(
  `https://t430.com/_cms/wp-content/uploads/${year}/${mm}/`,
)
const inputFileName = ref(`
23_153__N_3B_DOWN_JACKET_BLK_1_cover.jpg
23_153_N_3B_DOWN_JACKET_BLK_1.jpg
23_153_N_3B_DOWN_JACKET_BLK_2.jpg
23_153_N_3B_DOWN_JACKET_BLK_3.jpg
23_153_N_3B_DOWN_JACKET_BLK_4.jpg
23_153_N_3B_DOWN_JACKET_BLK_5.jpg
23_153_N_3B_DOWN_JACKET_BLK_6.jpg
23_153_N_3B_DOWN_JACKET_BLK_7.jpg
23_153_N_3B_DOWN_JACKET_BLK_8.jpg
23_153_N_3B_DOWN_JACKET_CYT_1.jpg
23_153_N_3B_DOWN_JACKET_CYT_2.jpg
23_153_N_3B_DOWN_JACKET_RED_1.jpg
23_153_N_3B_DOWN_JACKET_RED_2.jpg
23_153_N_3B_DOWN_JACKET_SAGE_1.jpg
23_153_N_3B_DOWN_JACKET_SAGE_2.jpg
23_154__3LT_DOWN_JACKET_CYT_1_cover.jpg
23_154_3LT_DOWN_JACKET_BLK_1.jpg
23_154_3LT_DOWN_JACKET_BLK_2.jpg
23_154_3LT_DOWN_JACKET_CYT_1.jpg
23_154_3LT_DOWN_JACKET_CYT_2.jpg
23_154_3LT_DOWN_JACKET_CYT_3.jpg
23_154_3LT_DOWN_JACKET_CYT_4.jpg
23_154_3LT_DOWN_JACKET_CYT_5.jpg
23_154_3LT_DOWN_JACKET_CYT_6.jpg
23_154_3LT_DOWN_JACKET_CYT_7.jpg
23_154_3LT_DOWN_JACKET_CYT_8.jpg
23_154_3LT_DOWN_JACKET_CYT_9.jpg
23_154_3LT_DOWN_JACKET_CYT_10.jpg
23_154_3LT_DOWN_JACKET_CYT_11.jpg
23_154_3LT_DOWN_JACKET_NVY_1.jpg
23_154_3LT_DOWN_JACKET_NVY_2.jpg
23_155__3LT_DOWN_VEST_NVY_1_cover.jpg
23_155_3LT_DOWN_VEST_BLK_1.jpg
23_155_3LT_DOWN_VEST_BLK_2.jpg
23_155_3LT_DOWN_VEST_CYT_1.jpg
23_155_3LT_DOWN_VEST_CYT_2.jpg
23_155_3LT_DOWN_VEST_NVY_1.jpg
23_155_3LT_DOWN_VEST_NVY_2.jpg
23_155_3LT_DOWN_VEST_NVY_3.jpg
23_155_3LT_DOWN_VEST_NVY_4.jpg
23_155_3LT_DOWN_VEST_NVY_5.jpg
23_155_3LT_DOWN_VEST_NVY_6.jpg
23_155_3LT_DOWN_VEST_NVY_7.jpg
23_155_3LT_DOWN_VEST_NVY_8.jpg
23_156__PAD_FISH_CONVERTIBLE_JACKET_ORG_1_cover.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_BLK_1.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_BLK_2.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_BLK_3.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_BLK_4.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_CYT_1.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_CYT_2.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_CYT_3.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_CYT_4.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_1.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_2.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_3.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_4.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_5.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_6.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_7.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_8.jpg
23_156_PAD_FISH_CONVERTIBLE_JACKET_ORG_9.jpg
23_157__UTILITY_QC_JACKET_NVY_1_cover.jpg
23_157_UTILITY_QC_JACKET_BGE_1.jpg
23_157_UTILITY_QC_JACKET_BGE_2.jpg
23_157_UTILITY_QC_JACKET_BLK_1.jpg
23_157_UTILITY_QC_JACKET_BLK_2.jpg
23_157_UTILITY_QC_JACKET_NVY_1.jpg
23_157_UTILITY_QC_JACKET_NVY_2.jpg
23_157_UTILITY_QC_JACKET_NVY_3.jpg
23_157_UTILITY_QC_JACKET_NVY_4.jpg
23_157_UTILITY_QC_JACKET_NVY_5.jpg
23_157_UTILITY_QC_JACKET_NVY_6.jpg
23_157_UTILITY_QC_JACKET_NVY_7.jpg
23_158__FLEECE_HOODED_JACKET_BLK_CYT_1_cover.jpg
23_158_FLEECE_HOODED_JACKET_BLK_BLK_1.jpg
23_158_FLEECE_HOODED_JACKET_BLK_BLK_2.jpg
23_158_FLEECE_HOODED_JACKET_BLK_CYT_1.jpg
23_158_FLEECE_HOODED_JACKET_BLK_CYT_2.jpg
23_158_FLEECE_HOODED_JACKET_BLK_CYT_3.jpg
23_158_FLEECE_HOODED_JACKET_BLK_CYT_4.jpg
23_158_FLEECE_HOODED_JACKET_BLK_CYT_5.jpg
23_158_FLEECE_HOODED_JACKET_BLK_CYT_6.jpg
23_158_FLEECE_HOODED_JACKET_BLK_CYT_7.jpg
23_158_FLEECE_HOODED_JACKET_BLK_CYT_8.jpg
23_159__LS_CORD_PULLOVER_SHIRTS_GRN_1_cover.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_BLK_1.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_BLK_2.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_C_GRY_1.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_C_GRY_2.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_GRN_1.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_GRN_2.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_GRN_3.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_GRN_4.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_GRN_5.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_GRN_6.jpg
23_159_LS_CORD_PULLOVER_SHIRTS_GRN_7.jpg
23_160__LS_FLEECE_LINER_CORD_SHIRTS_BGD_1_cover.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_BGD_1.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_BGD_2.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_BGD_3.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_BGD_4.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_BGD_5.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_BGD_6.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_BLK_1.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_BLK_2.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_D_OLV_1.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_D_OLV_2.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_NVY_1.jpg
23_160_LS_FLEECE_LINER_CORD_SHIRTS_NVY_2.jpg
23_161__2T_GRADE_CARDIGAN_NVY_KHK_1_cover.jpg
23_161_2T_GRADE_CARDIGAN_BRW_BLK_1.jpg
23_161_2T_GRADE_CARDIGAN_BRW_BLK_2.jpg
23_161_2T_GRADE_CARDIGAN_NVY_KHK_1.jpg
23_161_2T_GRADE_CARDIGAN_NVY_KHK_2.jpg
23_161_2T_GRADE_CARDIGAN_NVY_KHK_3.jpg
23_161_2T_GRADE_CARDIGAN_NVY_KHK_4.jpg
23_161_2T_GRADE_CARDIGAN_NVY_KHK_5.jpg
23_162__LS_HENRY_NECK_GRID_THERMAL_CS_NVY_1_cover.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_BLK_1.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_BLK_2.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_NVY_1.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_NVY_2.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_NVY_3.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_NVY_4.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_NVY_5.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_NVY_6.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_OFF_1.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_OFF_2.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_ORG_1.jpg
23_162_LS_HENRY_NECK_GRID_THERMAL_CS_ORG_2.jpg
23_163__LS_TURTLE_NECK_CS_BLK_1_cover.jpg
23_163_LS_TURTLE_NECK_CS_BLK_1.jpg
23_163_LS_TURTLE_NECK_CS_BLK_2.jpg
23_163_LS_TURTLE_NECK_CS_BLK_3.jpg
23_163_LS_TURTLE_NECK_CS_BLK_4.jpg
23_163_LS_TURTLE_NECK_CS_BLK_5.jpg
23_164__DF_BT_W_CHINO_GRY_1_cover.jpg
23_164_DF_BT_W_CHINO_BGE_1.jpg
23_164_DF_BT_W_CHINO_BGE_2.jpg
23_164_DF_BT_W_CHINO_BGE_3.jpg
23_164_DF_BT_W_CHINO_BGE_4.jpg
23_164_DF_BT_W_CHINO_BLK_1.jpg
23_164_DF_BT_W_CHINO_BLK_2.jpg
23_164_DF_BT_W_CHINO_BLK_3.jpg
23_164_DF_BT_W_CHINO_BLK_4.jpg
23_164_DF_BT_W_CHINO_GRY_1.jpg
23_164_DF_BT_W_CHINO_GRY_2.jpg
23_164_DF_BT_W_CHINO_GRY_3.jpg
23_164_DF_BT_W_CHINO_GRY_4.jpg
23_164_DF_BT_W_CHINO_GRY_5.jpg
23_164_DF_BT_W_CHINO_GRY_6.jpg
23_164_DF_BT_W_CHINO_GRY_7.jpg
23_164_DF_BT_W_CHINO_GRY_8.jpg
23_164_DF_BT_W_CHINO_NVY_1.jpg
23_164_DF_BT_W_CHINO_NVY_2.jpg
23_164_DF_BT_W_CHINO_NVY_3.jpg
23_164_DF_BT_W_CHINO_NVY_4.jpg
23_165__BT_CORD_CHINO_KHK_1_cover.jpg
23_165_BT_CORD_CHINO_BLK_1.jpg
23_165_BT_CORD_CHINO_BLK_2.jpg
23_165_BT_CORD_CHINO_KHK_1.jpg
23_165_BT_CORD_CHINO_KHK_2.jpg
23_165_BT_CORD_CHINO_KHK_3.jpg
23_165_BT_CORD_CHINO_KHK_4.jpg
23_165_BT_CORD_CHINO_KHK_5.jpg
23_165_BT_CORD_CHINO_KHK_6.jpg
23_165_BT_CORD_CHINO_KHK_7.jpg
23_165_BT_CORD_CHINO_KHK_8.jpg
23_165_BT_CORD_CHINO_NVY_1.jpg
23_165_BT_CORD_CHINO_NVY_2.jpg
23_166__PRIMITIVE_CARGO_PANTSKHK_1_cover.jpg
23_166_PRIMITIVE_CARGO_PANTS_BLK_1.jpg
23_166_PRIMITIVE_CARGO_PANTS_BLK_2.jpg
23_166_PRIMITIVE_CARGO_PANTS_KHK_2.jpg
23_166_PRIMITIVE_CARGO_PANTS_NVY_1.jpg
23_166_PRIMITIVE_CARGO_PANTS_NVY_2.jpg
23_166_PRIMITIVE_CARGO_PANTSKHK_1.jpg
23_166_PRIMITIVE_CARGO_PANTSKHK_3.jpg
23_166_PRIMITIVE_CARGO_PANTSKHK_4.jpg
23_166_PRIMITIVE_CARGO_PANTSKHK_5.jpg
23_166_PRIMITIVE_CARGO_PANTSKHK_6.jpg
23_166_PRIMITIVE_CARGO_PANTSKHK_7.jpg
23_166_PRIMITIVE_CARGO_PANTSKHK_8.jpg
23_167__BT_L_CORD_CHECK_CHINO_BGE_1_cover.jpg
23_167_BT_L_CORD_CHECK_CHINO_BGE_1.jpg
23_167_BT_L_CORD_CHECK_CHINO_BGE_2.jpg
23_167_BT_L_CORD_CHECK_CHINO_BGE_3.jpg
23_167_BT_L_CORD_CHECK_CHINO_BGE_4.jpg
23_167_BT_L_CORD_CHECK_CHINO_BGE_5.jpg
23_167_BT_L_CORD_CHECK_CHINO_BGE_6.jpg
23_167_BT_L_CORD_CHECK_CHINO_BGE_7.jpg
23_167_BT_L_CORD_CHECK_CHINO_BLK_1.jpg
23_167_BT_L_CORD_CHECK_CHINO_BLK_2.jpg
23_167_BT_L_CORD_CHECK_CHINO_KHK_1.jpg
23_167_BT_L_CORD_CHECK_CHINO_KHK_2.jpg
23_167_BT_L_CORD_CHECK_CHINO_L_BRW_1.jpg
23_167_BT_L_CORD_CHECK_CHINO_L_BRW_2.jpg
23_168__BT_L_PAINTER_PANTS_L_BRW_1_cover.jpg
23_168_BT_L_PAINTER_PANTS_BLK_1.jpg
23_168_BT_L_PAINTER_PANTS_BLK_2.jpg
23_168_BT_L_PAINTER_PANTS_D_BRW_1.jpg
23_168_BT_L_PAINTER_PANTS_D_BRW_2.jpg
23_168_BT_L_PAINTER_PANTS_L_BRW_1.jpg
23_168_BT_L_PAINTER_PANTS_L_BRW_2.jpg
23_168_BT_L_PAINTER_PANTS_L_BRW_3.jpg
23_168_BT_L_PAINTER_PANTS_L_BRW_4.jpg
23_168_BT_L_PAINTER_PANTS_L_BRW_5.jpg
23_168_BT_L_PAINTER_PANTS_L_BRW_6.jpg
23_169__AVIATOR_CAP_BLK_1_cover.jpg
23_169_AVIATOR_CAP_BGE_1.jpg
23_169_AVIATOR_CAP_BGE_2.jpg
23_169_AVIATOR_CAP_BLK_1.jpg
23_169_AVIATOR_CAP_BLK_2.jpg
23_169_AVIATOR_CAP_BLK_3.jpg
23_169_AVIATOR_CAP_BLK_4.jpg
23_169_AVIATOR_CAP_KHK_1.jpg
23_169_AVIATOR_CAP_KHK_2.jpg
23_170__CORD_BUCKET_HAT_NVY_1_cover.jpg
23_170_CORD_BUCKET_HAT_BLK_1.jpg
23_170_CORD_BUCKET_HAT_BRW_1.jpg
23_170_CORD_BUCKET_HAT_NVY_1.jpg
23_170_CORD_BUCKET_HAT_NVY_2.jpg
23_170_CORD_BUCKET_HAT_ORG_1.jpg
23_170_CORD_BUCKET_HAT_WHT_1.jpg
23_171__2L_KNIT_HAT_IVRY_NVY_1_cover.jpg
23_171_2L_KNIT_HAT_BGE_BLK_1.jpg
23_171_2L_KNIT_HAT_BLK_IVRY_1.jpg
23_171_2L_KNIT_HAT_IVRY_NVY_1.jpg
23_171_2L_KNIT_HAT_IVRY_NVY_2.jpg
23_172__EASY_KNIT_HAT_GRY_1_cover.jpg
23_172_EASY_KNIT_HAT_BLK_1.jpg
23_172_EASY_KNIT_HAT_GRY_1.jpg
23_172_EASY_KNIT_HAT_GRY_2.jpg
23_172_EASY_KNIT_HAT_IVRY_1.jpg
23_173__CORD_MUFF_CAP_BGE_1_cover.jpg
23_173_CORD_MUFF_CAP_BGE_1.jpg
23_173_CORD_MUFF_CAP_BGE_2.jpg
23_173_CORD_MUFF_CAP_BGE_3.jpg
23_173_CORD_MUFF_CAP_BGE_4.jpg
23_173_CORD_MUFF_CAP_BLK_1.jpg
23_173_CORD_MUFF_CAP_BLK_2.jpg
23_173_CORD_MUFF_CAP_L_BGE_1.jpg
23_173_CORD_MUFF_CAP_L_BGE_2.jpg
23_174__CS_MIX_CAP_BRW_1_cover.jpg
23_174_CS_MIX_CAP_BLK_1.jpg
23_174_CS_MIX_CAP_BLK_2.jpg
23_174_CS_MIX_CAP_BRW_1.jpg
23_174_CS_MIX_CAP_BRW_2.jpg
23_174_CS_MIX_CAP_BRW_3.jpg
23_174_CS_MIX_CAP_KHK_1.jpg
23_174_CS_MIX_CAP_KHK_2.jpg
23_175__BI_COL_CAP_NVY_1_cover.jpg
23_175_BI_COL_CAP_BGE_1.jpg
23_175_BI_COL_CAP_BGE_2.jpg
23_175_BI_COL_CAP_GRN_1.jpg
23_175_BI_COL_CAP_GRN_2.jpg
23_175_BI_COL_CAP_NVY_1.jpg
23_175_BI_COL_CAP_NVY_2.jpg
23_175_BI_COL_CAP_NVY_3.jpg
23_176__NEL_CHECK_CAP_NVY_1_cover.jpg
23_176_NEL_CHECK_CAP_IVRY_1.jpg
23_176_NEL_CHECK_CAP_IVRY_2.jpg
23_176_NEL_CHECK_CAP_NVY_1.jpg
23_176_NEL_CHECK_CAP_NVY_2.jpg
23_176_NEL_CHECK_CAP_NVY_3.jpg
23_177__BOA_FISHERMAN_CAP_BLK_1_cover.jpg
23_177_BOA_FISHERMAN_CAP_BGE_1.jpg
23_177_BOA_FISHERMAN_CAP_BGE_2.jpg
23_177_BOA_FISHERMAN_CAP_BLK_1.jpg
23_177_BOA_FISHERMAN_CAP_BLK_2.jpg
23_177_BOA_FISHERMAN_CAP_BLK_3.jpg
23_177_BOA_FISHERMAN_CAP_KHK_1.jpg
23_177_BOA_FISHERMAN_CAP_KHK_2.jpg
23_178__CUFF_EAR_BEANIE_BLK_1_cover.jpg
23_178_CUFF_EAR_BEANIE_BLK_1.jpg
23_178_CUFF_EAR_BEANIE_GRY_1.jpg
23_179__FLEECE_LINER_BEANIE_IVRY_1_cover.jpg
23_179_FLEECE_LINER_BEANIE_BLK_1.jpg
23_179_FLEECE_LINER_BEANIE_IVRY_1.jpg
23_179_FLEECE_LINER_BEANIE_MOCA_1.jpg
23_179_FLEECE_LINER_BEANIE_ORG_1.jpg
23_180__SHORTY_BEANIE_C-GRY_cover.jpg
23_180_SHORTY_BEANIE_BGD.jpg
23_180_SHORTY_BEANIE_BGE2.jpg
23_180_SHORTY_BEANIE_BLK.jpg
23_180_SHORTY_BEANIE_C-GRY.jpg
23_180_SHORTY_BEANIE_CML.jpg
23_180_SHORTY_BEANIE_GRN.jpg
23_180_SHORTY_BEANIE_IVRY.jpg
23_180_SHORTY_BEANIE_ORG.jpg
23_180_SHORTY_BEANIE_YEL.jpg
23_181__HOODED_NECKWARMER_IVRY_1_cover.jpg
23_181_HOODED_NECKWARMER_BLK_1.jpg
23_181_HOODED_NECKWARMER_GRN_1.jpg
23_181_HOODED_NECKWARMER_IVRY_1.jpg
23_181_HOODED_NECKWARMER_ORG_1.jpg
23_181_HOODED_NECKWARMER_PPL_1.jpg
23_182__MF_BOO_MID_430SP_BRW_1_cover.jpg
23_182_MF_BOO_MID_430SP_BRW_1.jpg
23_182_MF_BOO_MID_430SP_BRW_2.jpg
23_182_MF_BOO_MID_430SP_BRW_3.jpg
23_182_MF_BOO_MID_430SP_BRW_4.jpg
23_182_MF_BOO_MID_430SP_BRW_5.jpg
23_182_MF_BOO_MID_430SP_BRW_6.jpg
23_182_MF_BOO_MID_430SP_BRW_7.jpg
23_182_MF_BOO_MID_430SP_BRW_8.jpg
23_182_MF_BOO_MID_430SP_BRW_9.jpg
23_182_MF_BOO_MID_430SP_BRW_10.jpg
23_182_MF_BOO_MID_430SP_BRW_11.jpg
23_183__MF_CAMO_430SP_BLK_1_cover.jpg
23_183_MF_CAMO_430SP_BLK_1.jpg
23_183_MF_CAMO_430SP_BLK_2.jpg
23_183_MF_CAMO_430SP_BLK_3.jpg
23_183_MF_CAMO_430SP_BLK_4.jpg
23_183_MF_CAMO_430SP_BLK_5.jpg
23_183_MF_CAMO_430SP_BLK_6.jpg
23_183_MF_CAMO_430SP_BLK_7.jpg
23_183_MF_CAMO_430SP_BLK_8.jpg
23_183_MF_CAMO_430SP_BLK_9.jpg
23_184__WF_QUILTED_TOTE_BAG_BLK_1_cover.jpg
23_184_WF_QUILTED_TOTE_BAG_BLK_1.jpg
23_184_WF_QUILTED_TOTE_BAG_BLK_2.jpg
23_184_WF_QUILTED_TOTE_BAG_BLK_3.jpg
23_184_WF_QUILTED_TOTE_BAG_BLK_4.jpg
23_184_WF_QUILTED_TOTE_BAG_BLK_5.jpg
23_184_WF_QUILTED_TOTE_BAG_BLK_6.jpg
23_184_WF_QUILTED_TOTE_BAG_BLK_7.jpg
23_184_WF_QUILTED_TOTE_BAG_BLK_8.jpg
23_185__WF_HUNGING_CASE_BLK_1_cover.jpg
23_185_WF_HUNGING_CASE_BLK_1.jpg
23_185_WF_HUNGING_CASE_BLK_2.jpg
23_185_WF_HUNGING_CASE_BLK_3.jpg
23_185_WF_HUNGING_CASE_BLK_4.jpg
23_185_WF_HUNGING_CASE_BLK_5.jpg
23_186__WF_ZIP_TENTE_BLK_1_cover.jpg
23_186_WF_ZIP_TENTE_BLK_1.jpg
23_186_WF_ZIP_TENTE_BLK_2.jpg
23_186_WF_ZIP_TENTE_BLK_3.jpg
23_186_WF_ZIP_TENTE_BLK_4.jpg
23_187__WF_MINIMUM_WALLET_BLK_1_cover.jpg
23_187_WF_MINIMUM_WALLET_BLK_1.jpg
23_187_WF_MINIMUM_WALLET_BLK_2.jpg
23_187_WF_MINIMUM_WALLET_BLK_3.jpg
23_187_WF_MINIMUM_WALLET_BLK_4.jpg
23_187_WF_MINIMUM_WALLET_BLK_5.jpg
23_188__LINE_ICON_LONG_SOX_BGE_BRW_1_cover.jpg
23_188_LINE_ICON_LONG_SOX_BGE_BRW_1.jpg
23_188_LINE_ICON_LONG_SOX_GRY_BLK_1.jpg
23_189__NF_LUCKY_CAT_PO_PARKA_BLK_1_cover.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_BLK_1.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_BLK_2.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_GRY_1.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_GRY_2.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_NVY_1.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_NVY_2.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_WHT_1.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_WHT_2.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_YEL_1.jpg
23_189_NF_LUCKY_CAT_PO_PARKA_YEL_2.jpg
23_190__PF_GLOBE_MAP_PO_PARKA_YEL_1_cover.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_BLK_1.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_BLK_2.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_BLU_1.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_BLU_2.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_GRY_1.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_GRY_2.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_NVY_1.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_NVY_2.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_WHT_1.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_WHT_2.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_YEL_1.jpg
23_190_PF_GLOBE_MAP_PO_PARKA_YEL_2.jpg
23_191__PF_ALPINE_PO_PARKA_GRY_1_cover.jpg
23_191_PF_ALPINE_PO_PARKA_BGD_1.jpg
23_191_PF_ALPINE_PO_PARKA_BGD_2.jpg
23_191_PF_ALPINE_PO_PARKA_BLK_1.jpg
23_191_PF_ALPINE_PO_PARKA_BLK_2.jpg
23_191_PF_ALPINE_PO_PARKA_GRY_1.jpg
23_191_PF_ALPINE_PO_PARKA_GRY_2.jpg
23_191_PF_ALPINE_PO_PARKA_NVY_1.jpg
23_191_PF_ALPINE_PO_PARKA_NVY_2.jpg
23_191_PF_ALPINE_PO_PARKA_WHT_1.jpg
23_191_PF_ALPINE_PO_PARKA_WHT_2.jpg
23_192__TF_FEW_TOUR_PO_PARKA_PPL_1_cover.jpg
23_192_TF_FEW_TOUR_PO_PARKA_BLK_1.jpg
23_192_TF_FEW_TOUR_PO_PARKA_BLK_2.jpg
23_192_TF_FEW_TOUR_PO_PARKA_GRN_1.jpg
23_192_TF_FEW_TOUR_PO_PARKA_GRN_2.jpg
23_192_TF_FEW_TOUR_PO_PARKA_GRY_1.jpg
23_192_TF_FEW_TOUR_PO_PARKA_GRY_2.jpg
23_192_TF_FEW_TOUR_PO_PARKA_NVY_1.jpg
23_192_TF_FEW_TOUR_PO_PARKA_NVY_2.jpg
23_192_TF_FEW_TOUR_PO_PARKA_PPL_1.jpg
23_192_TF_FEW_TOUR_PO_PARKA_PPL_2.jpg
23_192_TF_FEW_TOUR_PO_PARKA_WHT_1.jpg
23_192_TF_FEW_TOUR_PO_PARKA_WHT_2.jpg
23_193__SUGI1_FEILD_PO_PARKA_RED_1_cover.jpg
23_193_SUGI1_FEILD_PO_PARKA_BLK_1.jpg
23_193_SUGI1_FEILD_PO_PARKA_BLK_2.jpg
23_193_SUGI1_FEILD_PO_PARKA_BLU_1.jpg
23_193_SUGI1_FEILD_PO_PARKA_BLU_2.jpg
23_193_SUGI1_FEILD_PO_PARKA_BLU_3.jpg
23_193_SUGI1_FEILD_PO_PARKA_GRY_1.jpg
23_193_SUGI1_FEILD_PO_PARKA_GRY_2.jpg
23_193_SUGI1_FEILD_PO_PARKA_RED_1.jpg
23_193_SUGI1_FEILD_PO_PARKA_RED_2.jpg
23_193_SUGI1_FEILD_PO_PARKA_WHT_1.jpg
23_193_SUGI1_FEILD_PO_PARKA_WHT_2.jpg
23_194__NF_GO_TO_FABS_CN_SWEAT_ORG_1_cover.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_BLK_1.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_BLK_2.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_GRY_1.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_GRY_2.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_NVY_1.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_NVY_2.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_ORG_1.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_ORG_2.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_WHT_1.jpg
23_194_NF_GO_TO_FABS_CN_SWEAT_WHT_2.jpg
23_195__PEG_CN_SWEAT_BGE_1_cover.jpg
23_195_PEG_CN_SWEAT_BGE_1.jpg
23_195_PEG_CN_SWEAT_BGE_2.jpg
23_195_PEG_CN_SWEAT_BLK_1.jpg
23_195_PEG_CN_SWEAT_BLK_2.jpg
23_195_PEG_CN_SWEAT_GRY_1.jpg
23_195_PEG_CN_SWEAT_GRY_2.jpg
23_195_PEG_CN_SWEAT_OLV_1.jpg
23_195_PEG_CN_SWEAT_OLV_2.jpg
23_196__TM_WHITE_TIGER_CN_SWEAT_BGD_1_cover.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_BGD_1.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_BGD_2.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_BLK_1.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_BLK_2.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_GRY_1.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_GRY_2.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_NVY_1.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_NVY_2.jpg
23_196_TM_WHITE_TIGER_CN_SWEAT_NVY_3.jpg
23_197__SUGI2_MASK_CN_SWEAT_WHT_1_cover.jpg
23_197_SUGI2_MASK_CN_SWEAT_BLK_1.jpg
23_197_SUGI2_MASK_CN_SWEAT_BLK_2.jpg
23_197_SUGI2_MASK_CN_SWEAT_BLK_3.jpg
23_197_SUGI2_MASK_CN_SWEAT_GRY_1.jpg
23_197_SUGI2_MASK_CN_SWEAT_GRY_2.jpg
23_197_SUGI2_MASK_CN_SWEAT_NVY_1.jpg
23_197_SUGI2_MASK_CN_SWEAT_NVY_2.jpg
23_197_SUGI2_MASK_CN_SWEAT_ORG_1.jpg
23_197_SUGI2_MASK_CN_SWEAT_ORG_2.jpg
23_197_SUGI2_MASK_CN_SWEAT_WHT_1.jpg
23_197_SUGI2_MASK_CN_SWEAT_WHT_2.jpg
23_197_SUGI2_MASK_CN_SWEAT_WHT_3.jpg
23_198__NF_GO_TO_FABS_LS_TEE_ASH_1_cover.jpg
23_198_NF_GO_TO_FABS_LS_TEE_ASH_1.jpg
23_198_NF_GO_TO_FABS_LS_TEE_ASH_2.jpg
23_198_NF_GO_TO_FABS_LS_TEE_BLK_1.jpg
23_198_NF_GO_TO_FABS_LS_TEE_BLK_2.jpg
23_198_NF_GO_TO_FABS_LS_TEE_GRN_1.jpg
23_198_NF_GO_TO_FABS_LS_TEE_GRN_2.jpg
23_198_NF_GO_TO_FABS_LS_TEE_PPL_1.jpg
23_198_NF_GO_TO_FABS_LS_TEE_PPL_2.jpg
23_198_NF_GO_TO_FABS_LS_TEE_WHT_1.jpg
23_198_NF_GO_TO_FABS_LS_TEE_WHT_2.jpg
23_199__NF_LUCKY_CAT_LS_TEE_WHT_1_cover.jpg
23_199_NF_LUCKY_CAT_LS_TEE_BLK_1.jpg
23_199_NF_LUCKY_CAT_LS_TEE_BLK_2.jpg
23_199_NF_LUCKY_CAT_LS_TEE_BRW_1.jpg
23_199_NF_LUCKY_CAT_LS_TEE_BRW_2.jpg
23_199_NF_LUCKY_CAT_LS_TEE_C_BLK_1.jpg
23_199_NF_LUCKY_CAT_LS_TEE_C_BLK_2.jpg
23_199_NF_LUCKY_CAT_LS_TEE_NVY_1.jpg
23_199_NF_LUCKY_CAT_LS_TEE_NVY_2.jpg
23_199_NF_LUCKY_CAT_LS_TEE_WHT_1.jpg
23_199_NF_LUCKY_CAT_LS_TEE_WHT_2.jpg
23_200__PF_GLOBE_MAP_LS_TEE_GRY_1_cover.jpg
23_200_PF_GLOBE_MAP_LS_TEE_BLK_1.jpg
23_200_PF_GLOBE_MAP_LS_TEE_BLK_2.jpg
23_200_PF_GLOBE_MAP_LS_TEE_BRW_1.jpg
23_200_PF_GLOBE_MAP_LS_TEE_BRW_2.jpg
23_200_PF_GLOBE_MAP_LS_TEE_GRY_1.jpg
23_200_PF_GLOBE_MAP_LS_TEE_GRY_2.jpg
23_200_PF_GLOBE_MAP_LS_TEE_NVY_1.jpg
23_200_PF_GLOBE_MAP_LS_TEE_NVY_2.jpg
23_200_PF_GLOBE_MAP_LS_TEE_WHT_1.jpg
23_200_PF_GLOBE_MAP_LS_TEE_WHT_2.jpg
23_201__TF_FEW_TOUR_LS_TEE_BLK_1_cover.jpg
23_201_TF_FEW_TOUR_LS_TEE_ASH_1.jpg
23_201_TF_FEW_TOUR_LS_TEE_ASH_2.jpg
23_201_TF_FEW_TOUR_LS_TEE_BGD_1.jpg
23_201_TF_FEW_TOUR_LS_TEE_BGD_2.jpg
23_201_TF_FEW_TOUR_LS_TEE_BLK_1.jpg
23_201_TF_FEW_TOUR_LS_TEE_BLK_2.jpg
23_201_TF_FEW_TOUR_LS_TEE_C_BLK_1.jpg
23_201_TF_FEW_TOUR_LS_TEE_C_BLK_2.jpg
23_201_TF_FEW_TOUR_LS_TEE_WHT_1.jpg
23_201_TF_FEW_TOUR_LS_TEE_WHT_2.jpg
23_202__PEG_LS_TEE_GRN_1_cover.jpg
23_202_PEG_LS_TEE_BLK_1.jpg
23_202_PEG_LS_TEE_BLK_2.jpg
23_202_PEG_LS_TEE_GRN_1.jpg
23_202_PEG_LS_TEE_GRN_2.jpg
23_202_PEG_LS_TEE_GRY_1.jpg
23_202_PEG_LS_TEE_GRY_2.jpg
23_202_PEG_LS_TEE_NVY_1.jpg
23_202_PEG_LS_TEE_NVY_2.jpg
23_202_PEG_LS_TEE_WHT_1.jpg
23_202_PEG_LS_TEE_WHT_2.jpg
23_203__PF_ALPINE_LS_TEE_S_BGE_1_cover.jpg
23_203_PF_ALPINE_LS_TEE_BLK_1.jpg
23_203_PF_ALPINE_LS_TEE_BLK_2.jpg
23_203_PF_ALPINE_LS_TEE_GRY_1.jpg
23_203_PF_ALPINE_LS_TEE_GRY_2.jpg
23_203_PF_ALPINE_LS_TEE_OLV_1.jpg
23_203_PF_ALPINE_LS_TEE_OLV_2.jpg
23_203_PF_ALPINE_LS_TEE_S_BGE_1.jpg
23_203_PF_ALPINE_LS_TEE_S_BGE_2.jpg
23_203_PF_ALPINE_LS_TEE_WHT_1.jpg
23_203_PF_ALPINE_LS_TEE_WHT_2.jpg
`.trim())

const fileNameArray = computed(() => inputFileName.value.trim().split('\n'))

const items = computed<Item[]>(() => {
  const result: Item[] = []

  let tmpId = ''
  let files: string[] = []

  for (let i in fileNameArray.value) {
    const id = fileNameArray.value[i].slice(3, 6) // 23-001_XXXXXX.jpg -> 001

    if (id === tmpId) {
      // 前回と同じIDのファイル

      files.push(`${inputFilePath.value}${fileNameArray.value[i]}`.trim())
    } else {
      // 新しいIDのファイル

      // 前のitemをresultに追加しておく
      if (files.length > 0) result.push({ id: tmpId, files })

      // 新しくIDを設定、初期化
      tmpId = id
      files = []

      files.push(`${inputFilePath.value}${fileNameArray.value[i]}`.trim())
    }
  }
  if (files.length > 0) result.push({ id: tmpId, files })

  // console.log(result)
  return result
})

const idListText = computed(() => {
  const ids = items.value.map(({ id }) => `${inputSeasonCode.value}${id}`)
  return ids.join('\n')
})

const idListTextLower = computed(() => idListText.value.toLocaleLowerCase())

const fileListText = computed(() => {

  const xx = items.value.map(({ files }) => files.join(',')).join('\n')
  return xx
})

const updateCode = (val: Event) => {
  // console.log(val)
  emit('update:code', (val.target as HTMLInputElement).value)
}
</script>

<template>
  <section class="p-8 mb-8 bg-slate-100">
    <h2 class="text-lg font-bold text-left mb-6">Input</h2>
    <div class="grid grid-cols-2 gap-12 mb-12">
      <div>
        <input type="text" v-model="inputSeasonCode" @change="updateCode" class="border-2 p-2 w-full" />
      </div>
      <div>
        <input type="text" v-model="inputFilePath" class="border-2 p-2 w-full" />
      </div>
    </div>

    <div class="grid grid-cols-1 gap-12 mb-12">
      <div>
        <textarea v-model="inputFileName" class="border-2 p-2 w-full h-96"></textarea>
      </div>
    </div>
  </section>

  <section class="p-8 mb-8 bg-slate-100">

    <h2 class="text-lg font-bold text-left mb-6">Result</h2>

    <div class="grid grid-cols-1 gap-12 mb-12">
      <textarea readonly class="border-2 p-2 h-96 text-xs" v-model="fileListText"></textarea>
    </div>

    <h3 class="text-md font-bold text-left mb-4">ID</h3>
    <div class="grid grid-cols-2 gap-12 mb-12">
      <textarea readonly class="border-2 p-2 h-48" v-model="idListText"></textarea>
      <textarea readonly class="border-2 p-2 h-48" v-model="idListTextLower"></textarea>
    </div>
  </section>
</template>

<style scoped></style>
